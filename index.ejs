<!DOCTYPE html>
<html>
<head>
  <title>Budget Manager</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <h1>Budget Manager</h1>
  <form action="/calculate" method="POST">
    <label for="salary">Enter your salary:</label>
    <input type="number" name="salary" id="salary" required>
    <button type="submit">Submit</button>
  </form>
 
  <% if(budgetData) { %>
<h2>Budget Summary</h2>
<table>
  <tr><th>Category</th><th>Amount</th></tr>
  <% budgetData.expenses.forEach(e => { %>
    <tr><td><%= e.category %></td><td><%= e.amount.toFixed(2) %></td></tr>
  <% }) %>
</table>
<canvas id="budgetChart"></canvas>
<script>
  const ctx = document.getElementById('budgetChart').getContext('2d');
  new Chart(ctx, {
    type: 'pie',
    data: {
      labels: <%- JSON.stringify(budgetData.expenses.map(e => e.category)) %>,
      datasets: [{
        data: <%- JSON.stringify(budgetData.expenses.map(e => e.amount)) %>,
        backgroundColor: ['#f39c12', '#2980b9', '#27ae60', '#8e44ad', '#e74c3c']
      }]
    }
  });
</script>
<% } %>
</body>
</html>